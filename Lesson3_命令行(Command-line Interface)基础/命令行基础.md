命令行基础
----

这篇文章用来总结课上讲的命令行基础用法，常用命令以及初步的使用技巧等。关于Git在命令行操作的部分，则单独写一篇记录。

**目录（Contents）**

[相关概述](#命令行相关概述)

[怎么学](#怎么学习命令行)

[常用命令](#常见自带命令)(都是一些自带的命令，安装了不同的包，还会拓展出一些不同的命令)

[关于Vim](#关于vim)

[一些基本技巧](#命令行基础技巧)

----
## 命令行相关概述 ##
这里无非讲解是一些哲学问题：

(懒得看可以直接跳过，或者继续去搜更深的讲解。)

1. **命令行是啥？**

> **命令行（CLI）：Command-line Interface**，全称命令行界面，
> **图形用户界面（GUI）：Graphical User Interface** 与上面概念相对应。

实际日常中，我们大多数时间还是在GUI下操作，比如Windows系统提供的操作界面，就是个图形界面。其易用性不言而喻。

那么与之对应的就是那黑底儿白字儿的命令行了。第一次打开命令行的时候，印象就是

![萌新3连.png](https://i.loli.net/2017/10/07/59d88ed330736.png '这啥JB玩意儿？')

但其实计算机最早的模样，只有命令行，用命令行来进行各种操作。为了计算机的普及，图形界面才被创造出来。来减少非开发者的学习成本。以达到更广泛的用途。
也就是说，图形界面能做到的事儿，命令行都能做。各有优劣，这里就不展开讲了。
而且大佬们都说这玩意儿效率比较高。emmmmmmmm...那就学呗，还能咋办。o(一︿一+)o

`Win` + `R` 输入 `cmd` 按 `回车` 即可进入Windows自带命令行。

2. **为啥是命令行？**

上面说了，大佬们都说这玩意儿效率高！o(￣ヘ￣o＃)

不扯淡了，毕竟任务多时间短。

原因：

- 因为现代的前端工具，都没有提供图形界面，只有命令行界面，所以从实用角度出发，前端必须学命令行
- 包括 Gulp、Webpack、SASS、Node.js、Vue、React、Angular
- 你不学命令行还怎么混？
- 
总结就是大佬都在用，你不用怎么跟上大佬们的节奏？o(▼皿▼メ;)o

3. **什么时候用命令行？**

上面讲了一些常用的情况，但仅针对于前端开发者，而命令行能干的事儿，当然比这多得多。绝大多数的开发工作，都可以使用命令行来提高效率。

各系统提供的命令行：
- Windows 的命令提示符(CMD)和 Git Bash 是命令行
- Linux（如 Ubuntu) 的终端也是命令行
- Unix（如 macOS） 的终端也是命令行(iTerm2)

*废话终于讲完了* V(=^･ω･^=)v

----

## 怎么学习命令行 ##

命令行，顾名思义就是要使用命令啊！那么咋学心里没B数吗？记命令啊~

但其实命令行的命令还是有规律可循的：

- **先背背单词：**

|单词    	|释义         |
|---------- | :---------:|
|directory  | 目录、文件夹 |
|file  		| 文件        |
|make       | 新建        |
|remove 	| 删除        |
|move       | 移动        |
|copy    	| 复制        |
|list       | 罗列        |
|link       | 链接        |
|find       | 查找        |
|echo       | 发出回音、重复|
|touch      | 触摸        |
|change     | 改变        |

- **然后缩写：**

|操作       	|命令          	   |缩写 	|
|:---------:| ---------------- | ------ |
|创建目录    | make directory   | mkdir  |
|删除		| remove           | rm     |
|移动/重命名	| move             | mv     |
|复制 	    | copy             | cp     |
|罗列 		| list             | ls     |
|改变目录    | change directory | cd     |

缩写规则就是：删掉元音字幕（A E I O U），保留前 2 到 3 个辅音字母

好了，你已经学会 50% 了，b(￣▽￣)d

接下来我们来试试。

- **Just Try~**

1. cd ~/Desktop 进入桌面
2. mkdir demo-1 创建目录，这时你可以切到桌面，看到 demo-1 目录
3. rm -rf demo-1 删除目录
4. touch 1.txt 创建文件，如果你发现文件后缀不见了，请让该死的 Windows 显示文件后缀
5. mv 1.txt 2.txt 这样我们就把 1.txt 移到 2.txt 了，也就是重命名

看，你已经学会用命令行了！那么接下来，就是记啊，用啊。英语你学过没？嗯，差不多的。

**绝对路径与相对路径的区别**

以 / 开头的路径就是绝对路径，具体区别，在下面用命令行体会。

打个比方，突然想到的：

相对路径就是你儿子在家，你叫你儿子做点儿啥事儿。
绝对路径就是你儿子不在家，你叫你儿子做点儿啥事儿。

家就是当前目录，而儿子这个角色就是调用的子文件。
那么你儿子在家，就直接喊他，不需要什么复杂的媒介。
然而你儿子不在家，是不是就要打电话叫他什么的了？那这个电话，就是绝对路径需要加的前面的路径名。
因为不在家就是没有在家便利呀！

## 常见自带命令 ##

|操作   	          |命令          	 	  		 |
| --------------- |    -----------------------	 |
|进入目录   	      | cd				 			 |
|显示当前目录		  | pwd	           	   	 		 |
|创建目录		  | mkdir 目录名	  	    		 |
|创建多级目录		  | mkdir -p 目录路径 	  	     |
|当前用户名		  | whoami           	  	     |
|   -----------   | 	      ---------    		 |
|查看目录下文件  	  | ls 路径(默认为当前目录)	 	 |
|查看所有文件		  | ls -a 路径	        		 |
|列出目录下文件	  | ls -l			    		 |
|列出所有文件		  | ls -la           			 |
|   -----------   | 	      ---------    		 |
|创建文件		  | touch 文件名	    	  	     |
|改变更新时间		  | touch 相同文件名    	   	     |
|创建有内容的文件	  | echo 'xxx' > 文件路径 		 |
|强制创建文件(覆盖) | echo 'xxx' >! 文件路径		 |
|给文件追加内容	  | echo 'xxx' >> 文件路径  	     |
|   -----------   | 	      ---------    		 |
|复制文件		  | cp 源路径 目标路径    		 |
|复制目录（-r:递归）| cp -r 源路径 目标路径			 |
|   -----------   | 	      ---------    		 |
|移动节点		  | mv 源路径 目标路径			 |
|   -----------   | 	      ---------    		 |
|删除文件	  	  | rm 文件路径/文件名 			 |
|强制删除文件		  | rm -f 文件路径/文件名    		 |
|删除目录		  | rm -r 目录路径/目录名   		 |
|强制删除目录(慎用) | rm -rf 目录路径/目录名		 |
|   -----------   | 	    ---------    		 |
|查看目录树状结构	  | tree 目录路径	    		 |
|建立软链接		  | ln -s 真实文件 链接（s:soft）  |
|   -----------   | 	      ---------    		 |
|下载网页文件		  | curl -L URL > 文件路径    	 |
|改变更新时间		  | wget -p -H -e rebots=off URL |
|创建有内容的文件	  | echo 'xxx' > 文件路径 		 |
|强制创建文件(覆盖) | echo 'xxx' >! 文件路径		 |
|给文件追加内容	  | echo 'xxx' >> 文件路径  	     |
|   -----------   | 	      ---------    		 |

> 如何学习未在上面列表中列出的命令？ 
> > 善用搜索引擎
> > 命令行释义：https://explainshell.com/ 遇到不会的，查！
> > 命令行常见用法：https://github.com/tldr-pages/tldr#tldr 插件，也可以查！

### 一些快捷键和操作符的用法 ###

- `↑` `↓` 上一命令 / 下一命令
- `!!` 上一命令占位符
- `Tab` 自动补全路径
- `Alt` + `.` 上一命令的最后一个参数
- `&&` 前面的执行成功了，再执行后面的
- `||` 前面的执行失败了，就执行后面的
- `;` 前面执行完了，不管成功失败，就执行后面的
- `>` 重定向
- `|` 管道

## 关于Vim ##

进入Vim 先按`i`进入输入模式，才能输入内容，不然就始终停留在命令输入模式。输入模式下按ESC退回到命令输入模式。

在命令输入模式输入 `:` +`q` + `!` 强制退出。
输入 `:` +`w` + `q` 保存后退出。

学习Vim不是一朝一夕，所以只附上一些参考文章，之后会有专门关于Vim学习的文章。

参考文章：

被誉为[编辑器之神](https://upclinux.github.io/intro/07/vim-and-emacs/ 'd=====(￣▽￣*)b 就是贼鸡儿难！')

如果你想要入门 vim，下面是三个教程：

- 在命令行输入 vimtutor ，即可查看官方自带的中文教程。看完它。
- [简明 VIM 练级攻略](http://coolshell.cn/articles/5426.html)
- [一个 VIM 游戏](https://vim-adventures.com/)


## 命令行基础技巧 ##

提高效率第一步，不提高效率用什么命令行ヽ(●-`Д´-)ノ

### 技巧一：~/.bashrc

`~/.bashrc` 文件有很强大的功能，应该算是一个命令行的预执行文件。

- **自动运行**

1. 首先 `touch ~/.bashrc` 创建这个文件
2. `start ~/.bashrc` 选用编辑器编辑这个文件，输入内容 `echo 'Hi'`
3. 也可以用命令行直接编辑文件，`echo "echo 'Hi'" >> ~/.bashrc`
4. 关闭Git Bash ，然后重新打开。就会看到显示 `Hi` ，这说明每次运行Git Bash，会优先运行 `~/.bashrc` 里面的命令
5. 重新编辑 `~/.bashrc` ，内容改为 `cd ~/Desktop` ，重启Git Bash ，就直接进入桌面目录啦 ~

你可以用 `~/.bashrc` 在进入 Git Bash 前执行任何命令，十分方便。

- **alias**

alias是命令行的一条命令：

它用来设置指令的别名。我们可以使用该命令可以将一些较长的命令进行简化。使用alias时，用户必须使用单引号`''`将原来的命令引起来，防止特殊字符导致错误(双引号也行)。 

alias命令的作用只局限于该次登入的操作。若要每次登入都能够使用这些命令别名，则可将相应的alias命令存放到bash的初始化文件 `/etc/bashrc` 中。

> **语法**

`alias(选项)(参数)`

> **选项**

`-p`：打印已经设置的命令别名。 

> **参数**

命令别名设置：定义命令别名，格式为 `“命令别名=‘实际命令’”`。

> **实例**

alias 的基本使用方法为：

`alias 新的命令='原命令 -选项/参数'`

例如： `alias l=‘ls -lsh'` 将重新定义 `ls` 命令，现在只需输入`l`就可以列目录了。直接输入 `alias` 命令会列出当前系统中所有已经定义的命令别名（或者输入 `alias -p`）。

要删除一个别名，可以使用 `unalias` 命令，如 `unalias l` 。

来自: http://man.linuxde.net/alias

----

1. 在 `~/.bashrc` 里新增一行 `alias b="echo 'Welcome Bird!'"`，等于号两边不能有空格，你最好一个字都不要错。
2. 运行 `source ~/.bashrc`，作用是执行 `~/.bashrc`
3. 运行 `b`，就会看到 `Welcome Bird!`
4. 也就是说，现在 b 就是 `echo 'Welcome Bird!'` 的缩写了，利用这个技巧，我们可以把很多常见的命令缩写一下，比如

```bash
 alias la='ls -a'
 alias ll=`ls -l`
 alias gst='git status -sb'
 alias ga='git add'
 alias ga.='git add .'
 alias gc='git commit'
 alias gc.='git commit .'
```

保存退出，然后运行 source ~/.bashrc

5. 这样一来，你的 Git 操作就会简单很多：

```bash
 ga 1.txt
 ga .
 gc 1.txt
 gc.
 gst
```

接下来说两个目前用不到的技巧。

> **环境变量**

还可以在 `~/.bashrc` 里面设置一些环境变量，比如你可以在 `~/.bashrc` 里面添加一行

`export SASS_BINARY_SITE="https://npm.taobao.org/mirrors/node-sass"`
那么以后你安装 node-sass 的时候就不会因为被墙而报错了。以后会用到的，现在先说一下。

> **设置 PATH**

`export PATH="目录的绝对路径:$PATH"`
可以在 `PATH` 里添加一个目录，不要运行，等用到的时候再来查。
